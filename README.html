
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>1. Introduction &#8212; PyMC 2.3.8 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="2. Installation" href="INSTALL.html" />
    <link rel="prev" title="PyMC User’s Guide" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="INSTALL.html" title="2. Installation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="PyMC User’s Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">PyMC 2.3.8 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="introduction">
<h1><span class="section-number">1. </span>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<dl class="field-list simple">
<dt class="field-odd">Date</dt>
<dd class="field-odd"><p>15 September 2015</p>
</dd>
<dt class="field-even">Authors</dt>
<dd class="field-even"><p>Chris Fonnesbeck, Anand Patil, David Huard, John Salvatier</p>
</dd>
<dt class="field-odd">Contact</dt>
<dd class="field-odd"><p><a class="reference external" href="mailto:chris&#46;fonnesbeck&#37;&#52;&#48;vanderbilt&#46;edu">chris<span>&#46;</span>fonnesbeck<span>&#64;</span>vanderbilt<span>&#46;</span>edu</a></p>
</dd>
<dt class="field-even">Web site</dt>
<dd class="field-even"><p><a class="reference external" href="http://github.com/pymc-devs/pymc">http://github.com/pymc-devs/pymc</a></p>
</dd>
<dt class="field-odd">Copyright</dt>
<dd class="field-odd"><p>This document has been placed in the public domain.</p>
</dd>
<dt class="field-even">License</dt>
<dd class="field-even"><p>PyMC is released under the Academic Free License.</p>
</dd>
<dt class="field-odd">Version</dt>
<dd class="field-odd"><p>7</p>
</dd>
</dl>
<div class="section" id="purpose">
<h2><span class="section-number">1.1. </span>Purpose<a class="headerlink" href="#purpose" title="Permalink to this headline">¶</a></h2>
<p>PyMC is a python module that implements Bayesian statistical models and fitting
algorithms, including Markov chain Monte Carlo. Its flexibility and
extensibility make it applicable to a large suite of problems. Along with core
sampling functionality, PyMC includes methods for summarizing output, plotting,
goodness-of-fit and convergence diagnostics.</p>
</div>
<div class="section" id="features">
<h2><span class="section-number">1.2. </span>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<p>PyMC provides functionalities to make Bayesian analysis as painless as
possible. Here is a short list of some of its features:</p>
<ul class="simple">
<li><p>Fits Bayesian statistical models with Markov chain Monte Carlo and
other algorithms.</p></li>
<li><p>Includes a large suite of well-documented statistical distributions.</p></li>
<li><p>Uses NumPy for numerics wherever possible.</p></li>
<li><p>Includes a module for modeling Gaussian processes.</p></li>
<li><p>Sampling loops can be paused and tuned manually, or saved and restarted later.</p></li>
<li><p>Creates summaries including tables and plots.</p></li>
<li><p>Traces can be saved to the disk as plain text, Python pickles, SQLite or MySQL
database, or hdf5 archives.</p></li>
<li><p>Several convergence diagnostics are available.</p></li>
<li><p>Extensible: easily incorporates custom step methods and unusual probability
distributions.</p></li>
<li><p>MCMC loops can be embedded in larger programs, and results can be analyzed
with the full power of Python.</p></li>
</ul>
</div>
<div class="section" id="what-s-new-in-version-2">
<h2><span class="section-number">1.3. </span>What’s new in version 2<a class="headerlink" href="#what-s-new-in-version-2" title="Permalink to this headline">¶</a></h2>
<p>This second version of PyMC benefits from a major rewrite effort. Substantial
improvements in code extensibility, user interface as well as in raw
performance have been achieved. Most notably, the PyMC 2 series provides:</p>
<ul class="simple">
<li><p>New flexible object model and syntax (not backward-compatible).</p></li>
<li><p>Reduced redundant computations: only relevant log-probability terms are
computed, and these are cached.</p></li>
<li><p>Optimized probability distributions.</p></li>
<li><p>New adaptive blocked Metropolis step method.</p></li>
<li><p>New slice sampler method.</p></li>
<li><p>Much more!</p></li>
</ul>
</div>
<div class="section" id="usage">
<h2><span class="section-number">1.4. </span>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<p>First, define your model in a file, say mymodel.py (with comments, of course!):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Import relevant modules</span>
<span class="kn">import</span> <span class="nn">pymc</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>

<span class="c1"># Some data</span>
<span class="n">n</span> <span class="o">=</span> <span class="mi">5</span><span class="o">*</span><span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span><span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-.</span><span class="mi">86</span><span class="p">,</span><span class="o">-.</span><span class="mi">3</span><span class="p">,</span><span class="o">-.</span><span class="mi">05</span><span class="p">,</span><span class="o">.</span><span class="mi">73</span><span class="p">])</span>

<span class="c1"># Priors on unknown parameters</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="n">pymc</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s1">&#39;alpha&#39;</span><span class="p">,</span><span class="n">mu</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">tau</span><span class="o">=.</span><span class="mi">01</span><span class="p">)</span>
<span class="n">beta</span> <span class="o">=</span> <span class="n">pymc</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s1">&#39;beta&#39;</span><span class="p">,</span><span class="n">mu</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">tau</span><span class="o">=.</span><span class="mi">01</span><span class="p">)</span>

<span class="c1"># Arbitrary deterministic function of parameters</span>
<span class="nd">@pymc</span><span class="o">.</span><span class="n">deterministic</span>
<span class="k">def</span> <span class="nf">theta</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="n">beta</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;theta = logit^{-1}(a+b)&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">pymc</span><span class="o">.</span><span class="n">invlogit</span><span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">*</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># Binomial likelihood for data</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">pymc</span><span class="o">.</span><span class="n">Binomial</span><span class="p">(</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="o">=</span><span class="n">theta</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">,</span><span class="mf">3.</span><span class="p">,</span><span class="mf">5.</span><span class="p">]),</span>\
                  <span class="n">observed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>Save this file, then from a python shell (or another file in the same directory), call:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pymc</span>
<span class="kn">import</span> <span class="nn">mymodel</span>

<span class="n">S</span> <span class="o">=</span> <span class="n">pymc</span><span class="o">.</span><span class="n">MCMC</span><span class="p">(</span><span class="n">mymodel</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s1">&#39;pickle&#39;</span><span class="p">)</span>
<span class="n">S</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="nb">iter</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">burn</span><span class="o">=</span><span class="mi">5000</span><span class="p">,</span> <span class="n">thin</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="n">pymc</span><span class="o">.</span><span class="n">Matplot</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">S</span><span class="p">)</span>
</pre></div>
</div>
<p>This example will generate 10000 posterior samples, thinned by a factor of 2,
with the first half discarded as burn-in. The sample is stored in a Python
serialization (pickle) database.</p>
</div>
<div class="section" id="history">
<h2><span class="section-number">1.5. </span>History<a class="headerlink" href="#history" title="Permalink to this headline">¶</a></h2>
<p>PyMC began development in 2003, as an effort to generalize the process of
building Metropolis-Hastings samplers, with an aim to making Markov chain Monte
Carlo (MCMC) more accessible to non-statisticians (particularly ecologists).
The choice to develop PyMC as a python module, rather than a standalone
application, allowed the use MCMC methods in a larger modeling framework. By
2005, PyMC was reliable enough for version 1.0 to be released to the public. A
small group of regular users, most associated with the University of Georgia,
provided much of the feedback necessary for the refinement of PyMC to a usable
state.</p>
<p>In 2006, David Huard and Anand Patil joined Chris Fonnesbeck on the development
team for PyMC 2.0. This iteration of the software strives for more flexibility,
better performance and a better end-user experience than any previous version
of PyMC.</p>
<p>PyMC 2.2 was released in April 2012. It contains numerous bugfixes and
optimizations, as well as a few new features, inculding improved output
plotting, csv table output, improved imputation syntax, and posterior
predictive check plots. PyMC 2.3 was released on October 31, 2013. It included
Python 3 compatibility, the addition of the half-Cauchy distribution, improved summary
plots, and some important bug fixes.</p>
<p>This user guide has been updated for version 2.3.</p>
</div>
<div class="section" id="relationship-to-other-packages">
<h2><span class="section-number">1.6. </span>Relationship to other packages<a class="headerlink" href="#relationship-to-other-packages" title="Permalink to this headline">¶</a></h2>
<p>PyMC in one of many general-purpose MCMC packages. The most prominent among
them is <a class="reference external" href="http://www.mrc-bsu.cam.ac.uk/bugs/">WinBUGS</a>, which has made MCMC (and with it, Bayesian statistics)
accessible to a huge user community. Unlike PyMC, WinBUGS is a stand-alone,
self-contained application. This can be an attractive feature for users
without  much programming experience, but others may find it constraining. A
related  package is <a class="reference external" href="http://www-ice.iarc.fr/~martyn/software/jags/">JAGS</a>, which provides a more UNIX-like implementation of
the BUGS  language. Other packages include <a class="reference external" href="http://www.cs.utah.edu/~hal/HBC/">Hierarchical Bayes Compiler</a> and,
more recently, <a class="reference external" href="http://code.google.com/p/stan/">STAN</a>.</p>
<p>It would be difficult to meaningfully benchmark PyMC against these other
packages because of the unlimited variety in Bayesian probability models and
flavors of the MCMC algorithm. However, it is possible to anticipate how it
will perform in broad terms.</p>
<p>PyMC’s number-crunching is done using a combination of industry-standard
libraries (NumPy and the linear algebra libraries on which it depends) and
hand-optimized Fortran routines. For models that are composed of variables
valued as large arrays, PyMC will spend most of its time in these fast
routines. In that case, it will be roughly as fast as packages written entirely
in C and faster than WinBUGS. For finer-grained models containing mostly scalar
variables, it will spend most of its time in coordinating Python code. In that
case, despite our best efforts at optimization, PyMC will be significantly
slower than packages written in C and on par with or slower than WinBUGS.
However, as fine-grained models are often small and simple, the total time
required for sampling is often quite reasonable despite this poorer performance.</p>
<p>We have chosen to spend time developing PyMC rather than using an existing
package primarily because it allows us to build and efficiently fit any model
we like within a productuve Python environment. We have emphasized
extensibility throughout PyMC’s design, so if it doesn’t meet your needs out of
the box, chances are you can make it do so with a relatively small amount of
code. See the <a class="reference external" href="https://github.com/pymc-devs/pymc/wiki/Testimonials">testimonials</a> page on the wiki for reasons why other users have
chosen PyMC.</p>
</div>
<div class="section" id="getting-started">
<h2><span class="section-number">1.7. </span>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>This guide provides all the information needed to install PyMC, code a Bayesian
statistical model, run the sampler, save and visualize the results. In
addition, it contains a list of the statistical distributions currently
available. More <a class="reference external" href="https://github.com/pymc-devs/pymc/wiki">examples and tutorials</a> are available from the PyMC web site.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/icon.png" alt="Logo"/>
            </a></p>
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">1. Introduction</a><ul>
<li><a class="reference internal" href="#purpose">1.1. Purpose</a></li>
<li><a class="reference internal" href="#features">1.2. Features</a></li>
<li><a class="reference internal" href="#what-s-new-in-version-2">1.3. What’s new in version 2</a></li>
<li><a class="reference internal" href="#usage">1.4. Usage</a></li>
<li><a class="reference internal" href="#history">1.5. History</a></li>
<li><a class="reference internal" href="#relationship-to-other-packages">1.6. Relationship to other packages</a></li>
<li><a class="reference internal" href="#getting-started">1.7. Getting started</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">PyMC User’s Guide</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="INSTALL.html"
                        title="next chapter"><span class="section-number">2. </span>Installation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/README.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="INSTALL.html" title="2. Installation"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="PyMC User’s Guide"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">PyMC 2.3.8 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2014, Christopher J. Fonnesbeck.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.4.4.
    </div>
  </body>
</html>